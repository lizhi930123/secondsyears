webpackJsonp([8,6],{0:function(e,t,o){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}var r=o(16),a=n(r),s=o(137),i=n(s),l=o(138),m=n(l),u=o(136),c=n(u),_=o(135),d=n(_),p=o(102),f=n(p),h=o(103),g=n(h),y=o(106),b=n(y),v=function(e){return o.e(5,function(t){var o=[t(104)];e.apply(null,o)}.bind(this))},w=function(e){return o.e(2,function(t){var o=[t(105)];e.apply(null,o)}.bind(this))},k=function(e){return o.e(0,function(t){var o=[t(110)];e.apply(null,o)}.bind(this))},S=function(e){return o.e(1,function(t){var o=[t(108)];e.apply(null,o)}.bind(this))},M=function(e){return o.e(4,function(t){var o=[t(109)];e.apply(null,o)}.bind(this))},L=function(e){return o.e(3,function(t){var o=[t(107)];e.apply(null,o)}.bind(this))};i.default.use(m.default),i.default.use(c.default),i.default.use(d.default),i.default.use(f.default);var q=new c.default({base:"/mrpyq_pc_test/",routes:[{path:"/",component:v},{path:"/Login",component:v},{path:"/Main_page",component:w,children:[{path:"",component:S},{path:"Personal",component:k},{path:"Home",component:S},{path:"News",component:M},{path:"Details",component:L,children:[{path:"*",component:L}]}]},{path:"*",component:b.default}],scrollBehavior:function(e,t,o){return o?o:{x:0,y:0}}}),N=new m.default.Store({state:{a:1,current_user:!1,current_user_pe:!1,current_room:!1,rooms:!1,users:!1,fresh:!1,add_number:0,per_number:0,per_pagenumber:1,per_pagemore:!1,news_pagemore:!1,news_pagenumber:1,pagenumber:1,pagemore:!1,home_items:[],news_items:[],news_datas:[],home_datas:[],per_items:[],per_datas:[],su_re:!1,date:!1,home_loader:!0,per_loader:!0,news_loader:!0,base:"/mrpyq_pc_test",details:{item:!1,comments_pagemore:!1,like_inform:!1,me_inform:!1,my_pi_like:!1,play_user:!1,comments:!1},no_scroll:function(e){var t=window.navigator.userAgent,o=/firefox/i;o.exec(t)?!function(){var t=function t(o){return 0==e.scrollTop&&o.detail<0?(o.preventDefault(),e.removeEventListener("DOMMouseScroll",t),void e.addEventListener("DOMMouseScroll",t)):e.scrollTop==e.scrollHeight-e.clientHeight&&o.detail>0?(o.preventDefault(),e.removeEventListener("DOMMouseScroll",t),void e.addEventListener("DOMMouseScroll",t)):void 0};e.addEventListener("DOMMouseScroll",t)}():e.onmousewheel=function(t){return!(0==e.scrollTop&&t.wheelDelta>0)&&(!(e.scrollTop==e.scrollHeight-e.clientHeight&&t.wheelDelta<0)&&void 0)},console.log(e)},news_mounted:function(e,t){e.news_loader=!0,e.news_items=[],e.news_datas=[],e.news_pagemore=!1,e.news_pagenumber=1,t.$http({method:"get",url:"http://test.mrpyq.com/api/feed/messages",params:{access_token:localStorage.getItem("access_token"),page:1},emulateJSON:!0}).then(function(o){function n(e,t){for(var o=0;o<e.news_items.length;o++)e.news_datas[o].dis=!0,e.news_datas[o].head_img_show=!1,e.news_datas[o].pi_show=!1;for(var n=document.querySelectorAll(".me_comment div"),r=0;r<n.length;r++)n[r].innerHTML=""}if(o.body.items&&o.body.pagemore){e.news_pagemore=o.body.pagemore,e.news_pagenumber++,e.news_items=o.body.items,console.log(e.news_items);for(var r=0;r<o.body.items.length;r++){var a={dis:!0,head_img_show:!1,pi_show:!1,play_user:o.body.items[r].feed?o.body.items[r].feed.play.user:e.current_user};e.news_datas.push(a)}e.news_loader=!1}document.onclick=function(){n(e,t)}})},personal_mounted:function(e,t){e.per_loader=!0,e.per_number=0,e.per_pagenumber=1,e.per_pagemore=!1,e.per_items=[],e.per_datas=[],console.log(e.current_user_pe),e.current_user_pe||localStorage.getItem("current_user_pe")&&(e.current_user_pe=JSON.parse(localStorage.getItem("current_user_pe"))),localStorage.setItem("current_user_pe",(0,a.default)(e.current_user_pe)),t.$http({method:"get",url:"http://test.mrpyq.com/api/feed/feeds_by_member",params:{access_token:localStorage.getItem("access_token"),no:e.current_user_pe.no,page:e.per_pagenumber,userid:e.current_user_pe._id},emulateJSON:!0}).then(function(t){function o(e){if(console.log(e),e.per_datas)for(var t=0;t<e.per_datas.length;t++)e.per_datas[t].pi_show=!1,e.per_datas[t].dis=!0,e.per_datas[t].head_img_show=!1;for(var o=document.querySelectorAll(".de"),n=0;n<o.length;n++)o[n].children[0].className="";for(var r=document.querySelectorAll(".de_my_title"),a=0;a<r.length;a++)r[a].children[1].className="";for(var s=document.querySelectorAll(".me_comment div"),i=0;i<s.length;i++)s[i].innerHTML=""}if(t.body.items){e.current_user_pe=t.body.user,e.per_pagenumber++,e.per_pagemore=t.body.pagemore,e.per_items=t.body.items;for(var n=0;n<e.per_items.length;n++){for(var r={me_if_like:!1,head_img_show:!1,dis:!0,me_co_con:"",myself_say:0,replyuserid:"",replyusername:"",comments_pagemore:!!e.per_items[n].stat&&e.per_items[n].stat.comment>20,comments_page:2,comments:e.per_items[n].comments,slideup:!1,swi:!0,con_height:0,like_inform:e.per_items[n].likeusers?e.per_items[n].likeusers:[],me_inform:e.current_user_pe,my_pi_like:!1,play_user:e.per_items[n].play?e.per_items[n].play.user:e.current_user,feed_items:!1,pi_show:!1,comment_beifen:[]},a=0;a<r.like_inform.length;a++)if(r.like_inform[a].is_me=r.like_inform[a]._id==r.play_user._id,r.like_inform[a].is_me){r.my_pi_like=!0;break}e.per_datas.push(r)}e.per_loader=!1}else console.log(t.body.error);console.log(o),document.onclick=function(){o(e)}})},home_mounted:function(e,t){e.home_loader=!0,console.log(e.home_loader),e.add_number=0,e.pagenumber=1,e.pagemore=!1,e.home_items=[],e.home_datas=[],e.date=(new Date).getTime(),t.$http({method:"get",url:"http://test.mrpyq.com//api/feed/feeds_by_room",params:{access_token:localStorage.getItem("access_token"),page:e.pagenumber,t:e.date},emulateJSON:!0}).then(function(t){function o(e){if(e.home_datas)for(var t=0;t<e.home_datas.length;t++)e.home_datas[t].pi_show=!1,e.home_datas[t].dis=!0,e.home_datas[t].head_img_show=!1;for(var o=document.querySelectorAll(".de"),n=0;n<o.length;n++)o[n].children[0].className="";for(var r=document.querySelectorAll(".de_my_title"),a=0;a<r.length;a++)r[a].children[1].className="";for(var s=document.querySelectorAll(".me_comment div"),i=0;i<s.length;i++)s[i].innerHTML=""}if(t.body.items){console.log(t.body),e.pagenumber++,e.pagemore=t.body.pagemore,e.home_items=t.body.items;for(var n=0;n<e.home_items.length;n++){for(var r={addl:0,head_img_show:!1,dis:!0,me_co_con:"",myself_say:0,replyuserid:"",replyusername:"",comments_pagemore:!!e.home_items[n].stat&&e.home_items[n].stat.comment>20,comments_page:2,comments:e.home_items[n].comments,slideup:!1,swi:!0,con_height:0,like_inform:e.home_items[n].likeusers?e.home_items[n].likeusers:[],me_inform:e.current_user,my_pi_like:!1,play_user:e.home_items[n].play?e.home_items[n].play.user:e.current_user,feed_items:!1,pi_show:!1,comment_beifen:[]},a=0;a<r.like_inform.length;a++)if(r.like_inform[a].is_me=r.like_inform[a]._id==r.play_user._id,r.like_inform[a].is_me){r.my_pi_like=!0;break}e.home_datas.push(r)}e.home_loader=!1,console.log(e.home_loader)}else console.log(t.body);document.onclick=function(){o(e)}})}},mutations:{set:function(e,t){for(var o=t.obj,n=t.value,r=0,a=o.length;r<a;r++)e[o[r]]=n[r]}}});new i.default({router:q,store:N,render:function(e){return e(g.default)}}).$mount("#app")},23:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={name:"app",data:function(){return{body:document.querySelector("body"),a:this.$store.state.a}},mounted:function(){},updated:function(){var e=localStorage.getItem("time"),t=this;if(t.bg_change(),console.log(location.hash),e){var o=(new Date).getTime(),n=localStorage.getItem("expire");o-e>n?"#/"!=location.hash&&null==location.href.match("/Login")&&(alert("1用户信息失效，请重新登录"),t.$router.push("/Login")):"#/"!=location.hash&&null==location.href.match("/Login")||t.$router.push("/Main_page")}else"#/"!=location.hash&&null==location.href.match("/Login")&&(alert("2用户信息失效，请重新登录"),t.$router.push("/Login"))},methods:{bg_change:function(){"#/"==location.hash||null!=location.href.match("/Login")?"bgtu"!=this.body.className&&(this.body.className="bgtu"):"bgcolor"!=this.body.className&&(this.body.className="bgcolor")}}}},26:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={methods:{back:function(){this.$router.push("/Main_page")}}}},75:function(e,t){},81:function(e,t){},103:function(e,t,o){var n,r;o(75),n=o(23);var a=o(127);r=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(r=n=n.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,e.exports=n},106:function(e,t,o){var n,r;o(81),n=o(26);var a=o(133);r=n=n||{},"object"!=typeof n.default&&"function"!=typeof n.default||(r=n=n.default),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-dde42040",e.exports=n},127:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return t("div",{attrs:{id:"app"}},[t("router-view")])},staticRenderFns:[]}},133:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement;return t("div",{attrs:{id:"bg"}},[t("div",{attrs:{id:"box"}},[t("div",{attrs:{id:"back"},on:{click:e.back}})])])},staticRenderFns:[]}}});